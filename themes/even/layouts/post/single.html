{{ define "content" -}}
  <article class="post">
    <!-- post-header -->
    <header class="post-header">
      <h1 class="post-title">{{ .Title }}</h1>

      <div class="post-meta">
        <span class="post-time"> {{ .Date.Format (.Site.Params.dateFormatToUse | default "2006-01-02") }} </span>
        {{ with .Params.categories -}}
          <div class="post-category">
            {{ range . }}
              <a href="{{ "categories" | relLangURL }}/{{ . | urlize }}/"> {{ . }} </a>
            {{ end }}
          </div>
        {{- end }}
        {{ if .Site.Params.moreMeta -}}
        <span class="more-meta"> {{ T "wordCount" .WordCount }} </span>
        <span class="more-meta"> {{ T "readingTime" .ReadingTime }} </span>
        {{- end }}
        {{ if and .Site.Params.busuanzi.enable .Site.Params.busuanzi.pagePV -}}
        {{ $valueSpan := printf `<span id="busuanzi_value_page_pv"><img src="%s" alt="spinner.svg"/></span>` ("img/spinner.svg" | relURL) -}}
        <span id="busuanzi_container_page_pv" class="more-meta"> {{ printf (T "pagePV") $valueSpan | safeHTML }} </span>
        {{- end }}
      </div>
    </header>

    <!-- TOC -->
    {{ partial "post/toc.html" . }}

    <!-- Content -->
    <div class="post-content">
      {{ if .Page.Params.pptView -}}
      <!-- <link rel="stylesheet" type="text/css" href="/lib/impress/markdown-slides.css"> -->
      <link rel="stylesheet" type="text/css" href="/lib/impress/classic-slides.css">
      <link rel="stylesheet" type="text/css" href="/lib/impress/my.css">


      <button onclick="pptstart();">开始</button>

      <div id="impress-mark-bg" style="display: none; position: fixed; left: 0; top: 0; background-color: #fff;height: 100%; width: 100%;">
        <div id="impress-wrapper" style="position: relative; overflow: hidden;height: 100%; width: 100%;">
          <div id="impress" data-transition-duration="1000">
            <div id="markdown" class="step slide markdown">{{ .RawContent }}</div>
          </div>
        </div>
        <div id="impress-toolbar"></div>
        <div id="impress-help"></div>
      </div>
      

      <script type="text/javascript" src="/lib/impress/impress-extras/markdown/markdown.js"></script>
      <script type="text/javascript" src="/lib/impress/impress.js"></script>
      <script type="text/javascript">
        var api;
        var rawContent = $('#impress').html();
        function pptstart() {
          $('#impress').html(rawContent);
          $('#impress-mark-bg').show();
          api = impress();
          api.init();
          $("#impress-toolbar").append('<button onclick="pptclose();">关闭</button>')
          setTimeout(function () {
            $('#impress').focus();
          }, 100)
        }
        function pptclose(argument) {
          $('#impress-mark-bg').hide();
          api.tear();
        }
        // pptstart();
        
      </script>
      {{ else }}
        {{ .Content }}
      {{ end }}
    </div>

    <!-- Copyright -->
    {{ partial "post/copyright.html" . }}

    <!-- Reward -->
    {{ partial "post/reward.html" . }}

    <footer class="post-footer">
      {{ with .Params.tags -}}
        <div class="post-tags">
          {{ range . }}
          <a href="{{ "tags" | relLangURL }}/{{ . | urlize }}/">{{ . }}</a>
          {{ end }}
        </div>
      {{- end }}

      <!-- Post Pagination -->
      <nav class="post-nav">
        {{ with .NextInSection }}
          <a class="prev" href="{{ .URL }}">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">{{ .Title }}</span>
            <span class="prev-text nav-mobile">{{ T "prevPost" }}</span>
          </a>
        {{- end }}
        {{ with .PrevInSection }}
          <a class="next" href="{{ .URL }}">
            <span class="next-text nav-default">{{ .Title }}</span>
            <span class="prev-text nav-mobile">{{ T "nextPost" }}</span>
            <i class="iconfont icon-right"></i>
          </a>
        {{- end }}
      </nav>
    </footer>
  </article>
{{- end }}
